syntax = "proto3";

package packet;

option csharp_namespace = "RTW.NetworkDefinition.Proto.Packet"; // 수정됨: C# 네임스페이스 변경

// 패킷 ID Enum (PacketHeader의 id 필드에 사용)
enum PacketId {
  PacketIdNone = 0; // 기본값

  // 시스템 및 연결
  C_AUTH_TOKEN = 1;
  S_AUTH_RESULT = 2;

  // Echo (Test)
  ECHO_MESSAGE = 9999; // C_ECHO_PACKET and S_ECHO_PACKET merged

  // Social
  C_CHAT = 10001;
  S_CHAT = 10002;
  C_CHAT_JOIN = 10003;
  S_CHAT_JOIN_RESULT = 10004;
  C_CHAT_LEAVE = 10005;
  S_CHAT_LEAVE_RESULT = 10006;
  C_CHAT_CHAT = 10007;
}

// --- 시스템 및 연결 ---
// (CAuthToken은 PacketHeader 뒤에 오는 payload가 됩니다)
message CAuthToken {
  string authToken = 1;
}

// (SAuthResult는 PacketHeader 뒤에 오는 payload가 됩니다)
message SAuthResult {
  int32 errorCode = 1; // 수정됨: rtw.common.RTWErrorCode
  int32 playerId = 2; // 인증 성공 시
}

// --- Echo (Test) ---
// (EchoMessage는 PacketHeader 뒤에 오는 payload가 됩니다)
message EchoMessage {
    string message = 1;
}

// --- Social ---
message CChat {
  uint32 chatType = 1;
  string message = 2;
  string targetName = 3;
}

message CChatChat {
  string message = 1;
}

message SChat {
  uint32 chatType = 1;
  int32 senderPlayerId = 2;
  string senderName = 3;
  string message = 4;
}

// (CChatJoin는 PacketHeader 뒤에 오는 payload가 됩니다)
message CChatJoin {
  string roomId = 1;
}

// (SChatJoinResult는 PacketHeader 뒤에 오는 payload가 됩니다)
message SChatJoinResult {
  int32 errorCode = 1;
  string roomId = 2;
}

// (CChatLeave는 PacketHeader 뒤에 오는 payload가 됩니다)
message CChatLeave {
  string roomId = 1;
}

// (SChatLeaveResult는 PacketHeader 뒤에 오는 payload가 됩니다)
message SChatLeaveResult {
  int32 errorCode = 1;
  string roomId = 2;
}
